{"version":3,"sources":["components/Entity/Entity.module.css","components/EntitiesList/EntitiesList.module.css","services/fetchAPI.js","services/helpers.js","components/EntitiesList/EntitiesList.js","pages/FilmsPage.js","components/Entity/Entity.js","components/SingleFilm/SingleFilm.js","pages/SingleFilmPage.js","pages/PlanetPage.js","pages/StarShipsPage.js","pages/SearchPage.js","components/SearchForm/SearchForm.js","components/StarWars/StarWars.js","components/App/App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchEntity","url","get","catch","err","console","log","getCategoryFromUrl","urlParseArr","Object","keys","qs","parse","split","length","getEntitiesArrFromUrl","arrEntitiesUrl","stateFunc","map","planetUrl","then","res","arr","data","prev","withRouter","props","entitiesArr","name","match","sort","a","b","entityObj","className","css","list","key","shortid","generate","to","pathname","route","path","FilmsPage","state","response","entitiesValue","entity","this","results","setState","entities","React","Component","Entity","category","entityName","filter","el","idx","join","container","title","entries","value","item","descr","useState","planets","setPlanets","starships","setStarships","useEffect","SingleFilmPage","location","localStorage","setItem","JSON","stringify","getItem","PlanetPage","StarShips","queryEnts","setQueryEnts","qObj","search","getDataFromQuery","categories","includes","query","q","fetchEntitiesByQuery","options","inputQuery","queryResponseArr","handlerSubmit","e","preventDefault","history","target","children","push","onSubmit","type","placeholder","StarWars","exact","component","SearchPage","StarShipsPage","App","ReactDOM","render","basename","document","getElementById"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,MAAQ,sBAAsB,KAAO,qBAAqB,KAAO,qBAAqB,MAAQ,wB,mBCAhHD,EAAOC,QAAU,CAAC,KAAO,6B,iNCCzBC,IAAMC,SAASC,QAAU,uBAElB,IAOMC,EAAc,SAAAC,GACzB,OAAOJ,IAAMK,IAAID,GAAKE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,0CCHpCG,EAAqB,SAAAN,GAChC,IAAMO,EAAcC,OAAOC,KAAKC,IAAGC,MAAMX,IAAM,GAAGY,MAAM,KAExD,OAAOL,EAAYA,EAAYM,OAAS,IAG7BC,EAAwB,SAACC,EAAgBC,GACpDD,EAAeE,KAAI,SAAAC,GAAS,OAC1BnB,EAAYmB,GAAWC,MAAK,SAAAC,GAC1B,IAAMC,EAAM,CAACD,EAAIE,MACjBN,GAAU,SAAAO,GAAI,4BAAQA,GAASF,a,iBC0BtBG,eAvCM,SAAAC,GAAU,IACrBC,EAA6BD,EAA7BC,YAAaC,EAAgBF,EAAhBE,KAAMC,EAAUH,EAAVG,MAE3B,OACE,4BACGF,GACCA,EACGG,MAAK,SAACC,EAAGC,GACR,OAAID,EAAE,GAAD,OAAIH,IAAUI,EAAE,GAAD,OAAIJ,IACf,EAELG,EAAE,GAAD,OAAIH,IAAUI,EAAE,GAAD,OAAIJ,KACd,EAEH,KAERV,KAAI,SAAAe,GAAS,OACZ,wBAAIC,UAAWC,IAAIC,KAAMC,IAAKC,IAAQC,YACnCN,GACC,kBAAC,IAAD,CACEO,GAAI,CACFC,SAAS,IAAD,OAAMlC,EAAmB0B,EAAUhC,KAAnC,YACNgC,EAAU,GAAD,OAAIL,KAEfC,MAAO,CACL5B,IAAKgC,EAAUhC,IACfyC,MAAOb,EAAMc,QAIhBV,EAAU,GAAD,OAAIL,aChCXgB,E,2MACnBC,MAAQ,CACNC,SAAU,GACVC,cAAe,S,mFAGI,IHNMC,EGMP,QHNOA,EGOXC,KAAKJ,MAAME,cHNpBlD,IACJK,IADI,WACI8C,IACR5B,MAAK,SAAAC,GAAG,OAAIA,EAAIE,KAAK2B,WACrB/C,OAAM,SAAAC,GAAG,OAAIA,MGG0BgB,MAAK,SAAAC,GAAG,OAC9C,EAAK8B,SAAS,CAAEL,SAAUzB,S,+BAIpB,IACAyB,EAAaG,KAAKJ,MAAlBC,SAEFM,EAAWN,GAAsB,KAEvC,OACE,6BACE,kBAAC,EAAD,CAAcnB,YAAayB,EAAUxB,KAAK,e,GAnBXyB,IAAMC,W,yBCyC9BC,EAzCA,SAAA7B,GAAU,IACfsB,EAAWtB,EAAXsB,OACFQ,EAAWjD,EAAmByC,EAAO/C,KACrCwD,EAAaD,EAChB3C,MAAM,IACN6C,QAAO,SAACC,EAAIC,GAAL,OAAaA,IAAQJ,EAAS1C,OAAS,KAC9C+C,KAAK,IAER,OACE,yBAAK3B,UAAWC,IAAI2B,WACF,SAAfL,GACC,wBAAIvB,UAAWC,IAAI4B,OAChBN,EADH,IACgBT,EAAOpB,MAGzB,4BACGoB,GACCvC,OAAOuD,QAAQhB,GACZU,QAAO,SAAAC,GAAO,IAAD,cACSA,EADT,GACLtB,EADK,KACA4B,EADA,KAEZ,MACU,SAAR5B,GACQ,UAARA,GACQ,QAARA,GACU,YAAV4B,KAGH/C,KAAI,SAAAyC,GAAO,IAAD,cACYA,EADZ,GACFtB,EADE,KACG4B,EADH,KAET,OACE,wBAAI/B,UAAWC,IAAI+B,KAAM7B,IAAKA,GAC5B,uBAAGH,UAAWC,IAAIP,MAAOS,GACzB,uBAAGH,UAAWC,IAAIgC,OAAQF,UCR7BxC,eAtBI,SAAAC,GAAU,IACnBsB,EAAkBtB,EAAlBsB,OAAQnB,EAAUH,EAAVG,MADU,EAEIuC,mBAAS,IAFb,mBAEnBC,EAFmB,KAEVC,EAFU,OAGQF,mBAAS,IAHjB,mBAGnBG,EAHmB,KAGRC,EAHQ,KAU1B,OALAC,qBAAU,WACR1D,EAAsBiC,EAAOqB,QAASC,GACtCvD,EAAsBiC,EAAOuB,UAAWC,KACvC,IAGD,6BACE,4BACE,yCADF,IACoB,2BAAIxB,EAAOe,QAE/B,kBAAC,EAAD,CAAcpC,YAAa0C,EAASzC,KAAK,SACzC,kBAAC,EAAD,CAAcD,YAAa4C,EAAW3C,KAAK,SAC3C,kBAAC,EAAD,CAAQoB,OAAQA,EAAQnB,MAAOA,QCnBhB6C,E,2MACnB7B,MAAQ,CACNG,OAAQ,M,mFAGW,IAAD,SACUC,KAAKvB,MAAzBiD,EADU,EACVA,SAAU9C,EADA,EACAA,MAElB,GAAI8C,EAAS9C,MAAO,CAClB,IAAM5B,EAAM0E,EAAS9C,MAAM5B,IAC3BD,EAAYC,GAAKmB,MAAK,SAAAC,GACpB,EAAK8B,SAAS,CAAEH,OAAQ3B,EAAIE,OAC5BqD,aAAaC,QAAQhD,EAAMc,KAAMmC,KAAKC,UAAU1D,EAAIE,eAGtD0B,KAAKE,SAAS,CAAEH,OAAQ8B,KAAKlE,MAAMgE,aAAaI,QAAQnD,EAAMc,W,+BAIxD,IACAK,EAAWC,KAAKJ,MAAhBG,OACAnB,EAAUoB,KAAKvB,MAAfG,MAER,OAAOmB,GAAU,kBAAC,EAAD,CAAYA,OAAQA,EAAQnB,MAAOA,Q,GAvBZwB,IAAMC,WCA7B2B,E,2MACnBpC,MAAQ,CACNG,OAAQ,M,mFAGW,IAAD,SACUC,KAAKvB,MAAzBiD,EADU,EACVA,SAAU9C,EADA,EACAA,MAElB,GAAI8C,EAAS9C,MAAO,CAClB,IAAM5B,EAAM0E,EAAS9C,MAAM5B,IAC3BD,EAAYC,GAAKmB,MAAK,SAAAC,GACpB,EAAK8B,SAAS,CAAEH,OAAQ3B,EAAIE,OAC5BqD,aAAaC,QAAQhD,EAAMc,KAAMmC,KAAKC,UAAU1D,EAAIE,eAGtD0B,KAAKE,SAAS,CAAEH,OAAQ8B,KAAKlE,MAAMgE,aAAaI,QAAQnD,EAAMc,W,+BAIxD,IACAK,EAAWC,KAAKJ,MAAhBG,OACAnB,EAAUoB,KAAKvB,MAAfG,MAER,OAAO,6BAAMmB,GAAU,kBAAC,EAAD,CAAQA,OAAQA,EAAQnB,MAAOA,S,GAvBlBwB,IAAMC,WCAzB4B,E,2MACnBrC,MAAQ,CACNG,OAAQ,M,mFAGW,IAAD,SACUC,KAAKvB,MAAzBiD,EADU,EACVA,SAAU9C,EADA,EACAA,MAElB,GAAI8C,EAAS9C,MAAO,CAClB,IAAM5B,EAAM0E,EAAS9C,MAAM5B,IAC3BD,EAAYC,GAAKmB,MAAK,SAAAC,GACpB,EAAK8B,SAAS,CAAEH,OAAQ3B,EAAIE,OAC5BqD,aAAaC,QAAQhD,EAAMc,KAAMmC,KAAKC,UAAU1D,EAAIE,eAGtD0B,KAAKE,SAAS,CAAEH,OAAQ8B,KAAKlE,MAAMgE,aAAaI,QAAQnD,EAAMc,W,+BAIxD,IACAK,EAAWC,KAAKJ,MAAhBG,OACAnB,EAAUoB,KAAKvB,MAAfG,MAER,OAAO,6BAAMmB,GAAU,kBAAC,EAAD,CAAQA,OAAQA,EAAQnB,MAAOA,S,GAvBnBwB,IAAMC,WC+C9B7B,eA7CI,SAAAC,GAAU,IACnBiD,EAAajD,EAAbiD,SADkB,EAEQP,mBAAS,IAFjB,mBAEnBe,EAFmB,KAERC,EAFQ,KAIpBC,ERcwB,SAAAV,GAG9B,OAFUhE,IAAGC,MAAM+D,EAASW,QQffC,CAAiBZ,GAExBa,EACJ/E,OAAOC,KAAK2E,GAAMvE,OAAS,GAAKuE,EAAKG,WAAW3E,MAAM,IAAI4E,SAAS,KAC/DJ,EAAKG,WAAW3E,MAAM,KACtB,CAACwE,EAAKG,YACNE,EAAQL,EAAKM,EAyBnB,OAZAlB,qBAAU,WACRW,EAAa,IAEb,YAAII,GAAYtE,KAAI,SAAAsC,GAAQ,OTjBI,SAACA,EAAUkC,GAC7C,IAAMzF,EAAG,WAAOuD,EAAP,oBAA2BkC,GAEpC,OAAO7F,IACJK,IAAID,GACJmB,MAAK,SAAAC,GAAG,OAAIA,EAAIE,KAAK2B,WACrB/C,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MSYxBwF,CAAqBpC,EAAUkC,GAAOtE,MAAK,SAAAC,GACzC,IAAMC,EAAMD,EACZ+D,GAAa,SAAA5D,GAAI,4BAAQA,GAAR,YAAiBF,OAClCjB,QAAQC,IAAI,MAAOe,WAGtB,CAACqE,IAGF,6BACE,4BACE,8CAEF,kBAAC,EAAD,CAAc/D,YAAawD,EAAWvD,KAAK,aC3C3CiE,EACQ,CAAC,SAGApE,cAAU,2MAErBoB,MAAQ,CACNiD,WAAY,GACZC,iBAAkB,IAJC,EAOrBC,cAAgB,SAAAC,GACdA,EAAEC,iBADiB,IAEXC,EAAY,EAAKzE,MAAjByE,QAEFL,EAAaG,EAAEG,OAAOC,SAAS,GAAGpC,MAExC,GAAI6B,EACF,OAAOK,EAAQG,KAAK,CAClB7D,SAAU,UACV6C,OAAO,cAAD,OAAgBO,EAAhB,eAAyCC,MAhBhC,wEAqBnB,OACE,6BACE,0BAAMS,SAAUtD,KAAK+C,eACnB,2BAAOQ,KAAK,QAAQC,YAAY,kBAChC,4BAAQD,KAAK,UAAb,gBAzBa,GACEnD,IAAMC,YCelBoD,EAdE,kBACf,6BACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/D,KAAK,UAAUgE,OAAK,EAACC,UAAWC,IACvC,kBAAC,IAAD,CAAOlE,KAAK,SAASgE,OAAK,EAACC,UAAWhE,IACtC,kBAAC,IAAD,CAAOD,KAAK,aAAagE,OAAK,EAACC,UAAWlC,IAC1C,kBAAC,IAAD,CAAO/B,KAAK,eAAegE,OAAK,EAACC,UAAW3B,IAC5C,kBAAC,IAAD,CAAOtC,KAAK,iBAAiBgE,OAAK,EAACC,UAAWE,IAC9C,kBAAC,IAAD,CAAUtE,GAAG,cCJJuE,EARH,WACV,OACE,yBAAK7E,UAAU,OACb,kBAAC,IAAD,CAAO0E,UAAWF,MCFxBM,IAASC,OACP,kBAAC,IAAD,CAAYC,SAAS,KACnB,kBAAC,IAAD,CAAON,UAAWG,KAEpBI,SAASC,eAAe,W","file":"static/js/main.94eb8094.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Entity_title__kq8c5\",\"item\":\"Entity_item__22Gzs\",\"name\":\"Entity_name__myJjJ\",\"descr\":\"Entity_descr__X9Efh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"EntitiesList_list__2B1i8\"};","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://swapi.co/api\";\r\n\r\nexport const fetchEntities = entity => {\r\n  return axios\r\n    .get(`/${entity}`)\r\n    .then(res => res.data.results)\r\n    .catch(err => err);\r\n};\r\n\r\nexport const fetchEntity = url => {\r\n  return axios.get(url).catch(err => console.log(err));\r\n};\r\n\r\nexport const fetchEntitiesByQuery = (category, query) => {\r\n  const url = `/${category}/?search=${query}`;\r\n\r\n  return axios\r\n    .get(url)\r\n    .then(res => res.data.results)\r\n    .catch(err => console.log(err));\r\n};\r\n","import qs from \"query-string\";\r\nimport { fetchEntity } from \"./fetchAPI\";\r\n\r\nexport const getIdFromUrl = url => {\r\n  const urlParseArr = Object.keys(qs.parse(url))[0].split(\"/\");\r\n\r\n  return urlParseArr[urlParseArr.length - 2];\r\n};\r\n\r\nexport const getCategoryFromUrl = url => {\r\n  const urlParseArr = Object.keys(qs.parse(url))[0].split(\"/\");\r\n\r\n  return urlParseArr[urlParseArr.length - 3];\r\n};\r\n\r\nexport const getEntitiesArrFromUrl = (arrEntitiesUrl, stateFunc) => {\r\n  arrEntitiesUrl.map(planetUrl =>\r\n    fetchEntity(planetUrl).then(res => {\r\n      const arr = [res.data];\r\n      stateFunc(prev => [...prev, ...arr]);\r\n    })\r\n  );\r\n};\r\n\r\nexport const getDataFromQuery = location => {\r\n  const q = qs.parse(location.search);\r\n\r\n  return q;\r\n};\r\n\r\n// args is arr [category, id] or [category]\r\nexport const getRoute = args =>\r\n  [...args].reduce((acc, el) => acc + `/${el}`, \"\").trim();\r\n","import React from \"react\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport shortid from \"shortid\";\r\nimport { getCategoryFromUrl } from \"../../services/helpers\";\r\nimport css from \"./EntitiesList.module.css\";\r\n\r\nconst EntitiesList = props => {\r\n  const { entitiesArr, name, match } = props;\r\n\r\n  return (\r\n    <ul>\r\n      {entitiesArr &&\r\n        entitiesArr\r\n          .sort((a, b) => {\r\n            if (a[`${name}`] > b[`${name}`]) {\r\n              return 1;\r\n            }\r\n            if (a[`${name}`] < b[`${name}`]) {\r\n              return -1;\r\n            }\r\n            return 0;\r\n          })\r\n          .map(entityObj => (\r\n            <li className={css.list} key={shortid.generate()}>\r\n              {entityObj && (\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `/${getCategoryFromUrl(entityObj.url)}/${\r\n                      entityObj[`${name}`]\r\n                    }`,\r\n                    match: {\r\n                      url: entityObj.url,\r\n                      route: match.path\r\n                    }\r\n                  }}\r\n                >\r\n                  {entityObj[`${name}`]}\r\n                </NavLink>\r\n              )}\r\n            </li>\r\n          ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default withRouter(EntitiesList);\r\n","import React from \"react\";\r\nimport { fetchEntities } from \"../services/fetchAPI\";\r\nimport EntitiesList from \"../components/EntitiesList/EntitiesList\";\r\n\r\nexport default class FilmsPage extends React.Component {\r\n  state = {\r\n    response: [],\r\n    entitiesValue: \"films\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetchEntities(this.state.entitiesValue).then(res =>\r\n      this.setState({ response: res })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { response } = this.state;\r\n\r\n    const entities = response ? response : null;\r\n\r\n    return (\r\n      <div>\r\n        <EntitiesList entitiesArr={entities} name=\"title\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { getCategoryFromUrl } from \"../../services/helpers\";\r\nimport css from \"./Entity.module.css\";\r\n\r\nconst Entity = props => {\r\n  const { entity } = props;\r\n  const category = getCategoryFromUrl(entity.url);\r\n  const entityName = category\r\n    .split(\"\")\r\n    .filter((el, idx) => idx !== category.length - 1)\r\n    .join(\"\");\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      {entityName !== \"film\" && (\r\n        <h2 className={css.title}>\r\n          {entityName} {entity.name}\r\n        </h2>\r\n      )}\r\n      <ul>\r\n        {entity &&\r\n          Object.entries(entity)\r\n            .filter(el => {\r\n              const [key, value] = el;\r\n              return (\r\n                key !== \"name\" &&\r\n                key !== \"films\" &&\r\n                key !== \"url\" &&\r\n                value !== \"unknown\"\r\n              );\r\n            })\r\n            .map(el => {\r\n              const [key, value] = el;\r\n              return (\r\n                <li className={css.item} key={key}>\r\n                  <p className={css.name}>{key}</p>\r\n                  <p className={css.descr}>{value}</p>\r\n                </li>\r\n              );\r\n            })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Entity;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport EntitiesList from \"../EntitiesList/EntitiesList\";\r\nimport { getEntitiesArrFromUrl } from \"../../services/helpers\";\r\nimport Entity from \"../Entity/Entity\";\r\n\r\nconst SingleFilm = props => {\r\n  const { entity, match } = props;\r\n  const [planets, setPlanets] = useState([]);\r\n  const [starships, setStarships] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getEntitiesArrFromUrl(entity.planets, setPlanets);\r\n    getEntitiesArrFromUrl(entity.starships, setStarships);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        <p>Star Wars:</p> <p>{entity.title}</p>\r\n      </h2>\r\n      <EntitiesList entitiesArr={planets} name=\"name\" />\r\n      <EntitiesList entitiesArr={starships} name=\"name\" />\r\n      <Entity entity={entity} match={match} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(SingleFilm);\r\n","import React from \"react\";\r\nimport SingleFilm from \"../components/SingleFilm/SingleFilm\";\r\nimport { fetchEntity } from \"../services/fetchAPI\";\r\n\r\nexport default class SingleFilmPage extends React.Component {\r\n  state = {\r\n    entity: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, match } = this.props;\r\n\r\n    if (location.match) {\r\n      const url = location.match.url;\r\n      fetchEntity(url).then(res => {\r\n        this.setState({ entity: res.data });\r\n        localStorage.setItem(match.path, JSON.stringify(res.data));\r\n      });\r\n    } else {\r\n      this.setState({ entity: JSON.parse(localStorage.getItem(match.path)) });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { entity } = this.state;\r\n    const { match } = this.props;\r\n\r\n    return entity && <SingleFilm entity={entity} match={match} />;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { fetchEntity } from \"../services/fetchAPI\";\r\nimport Entity from \"../components/Entity/Entity\";\r\n\r\nexport default class PlanetPage extends React.Component {\r\n  state = {\r\n    entity: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, match } = this.props;\r\n\r\n    if (location.match) {\r\n      const url = location.match.url;\r\n      fetchEntity(url).then(res => {\r\n        this.setState({ entity: res.data });\r\n        localStorage.setItem(match.path, JSON.stringify(res.data));\r\n      });\r\n    } else {\r\n      this.setState({ entity: JSON.parse(localStorage.getItem(match.path)) });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { entity } = this.state;\r\n    const { match } = this.props;\r\n\r\n    return <div>{entity && <Entity entity={entity} match={match} />}</div>;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { fetchEntity } from \"../services/fetchAPI\";\r\nimport Entity from \"../components/Entity/Entity\";\r\n\r\nexport default class StarShips extends React.Component {\r\n  state = {\r\n    entity: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, match } = this.props;\r\n\r\n    if (location.match) {\r\n      const url = location.match.url;\r\n      fetchEntity(url).then(res => {\r\n        this.setState({ entity: res.data });\r\n        localStorage.setItem(match.path, JSON.stringify(res.data));\r\n      });\r\n    } else {\r\n      this.setState({ entity: JSON.parse(localStorage.getItem(match.path)) });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { entity } = this.state;\r\n    const { match } = this.props;\r\n\r\n    return <div>{entity && <Entity entity={entity} match={match} />}</div>;\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { fetchEntitiesByQuery } from \"../services/fetchAPI\";\r\nimport EntitiesList from \"../components/EntitiesList/EntitiesList\";\r\nimport { getDataFromQuery } from \"../services/helpers\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst SearchPage = props => {\r\n  const { location } = props;\r\n  const [queryEnts, setQueryEnts] = useState([]);\r\n\r\n  const qObj = getDataFromQuery(location);\r\n\r\n  const categories =\r\n    Object.keys(qObj).length > 1 && qObj.categories.split(\"\").includes(\",\")\r\n      ? qObj.categories.split(\",\")\r\n      : [qObj.categories];\r\n  const query = qObj.q;\r\n\r\n  // useEffect(() => {\r\n  //   [...categories].map(category =>\r\n  //     fetchEntitiesByQuery(category, query).then(res => {\r\n  //       const arr = res;\r\n  //       setQueryEnts(prev => [...prev, ...arr]);\r\n  //       console.log(\"queryEnts\", queryEnts);\r\n  //       console.log(\"res\", res);\r\n  //     })\r\n  //   );\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    setQueryEnts([]);\r\n\r\n    [...categories].map(category =>\r\n      fetchEntitiesByQuery(category, query).then(res => {\r\n        const arr = res;\r\n        setQueryEnts(prev => [...prev, ...arr]);\r\n        console.log(\"res\", res);\r\n      })\r\n    );\r\n  }, [query]);\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <p>Searched next:</p>\r\n      </h3>\r\n      <EntitiesList entitiesArr={queryEnts} name=\"name\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchPage);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst options = {\r\n  categories: [\"films\"]\r\n};\r\n\r\nexport default withRouter(\r\n  class InputeForm extends React.Component {\r\n    state = {\r\n      inputQuery: \"\",\r\n      queryResponseArr: []\r\n    };\r\n\r\n    handlerSubmit = e => {\r\n      e.preventDefault();\r\n      const { history } = this.props;\r\n\r\n      const inputQuery = e.target.children[0].value;\r\n\r\n      if (inputQuery)\r\n        return history.push({\r\n          pathname: \"/search\",\r\n          search: `categories=${options.categories}&&q=${inputQuery}`\r\n        });\r\n    };\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n          <form onSubmit={this.handlerSubmit}>\r\n            <input type=\"input\" placeholder=\"Input film...\" />\r\n            <button type=\"submit\">Search</button>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n);\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport FilmsPage from \"../../pages/FilmsPage\";\r\nimport SingleFilmPage from \"../../pages/SingleFilmPage\";\r\nimport PlanetPage from \"../../pages/PlanetPage\";\r\nimport StarShipsPage from \"../../pages/StarShipsPage\";\r\nimport SearchPage from \"../../pages/SearchPage\";\r\nimport Input from \"../SearchForm/SearchForm\";\r\n\r\nconst StarWars = () => (\r\n  <div>\r\n    <Input />\r\n    <Switch>\r\n      <Route path=\"/search\" exact component={SearchPage} />\r\n      <Route path=\"/films\" exact component={FilmsPage} />\r\n      <Route path=\"/films/:id\" exact component={SingleFilmPage} />\r\n      <Route path=\"/planets/:id\" exact component={PlanetPage} />\r\n      <Route path=\"/starships/:id\" exact component={StarShipsPage} />\r\n      <Redirect to=\"/films\" />\r\n    </Switch>\r\n  </div>\r\n);\r\n\r\nexport default StarWars;\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n// import logo from './logo.svg';\nimport \"./App.css\";\nimport StarWars from \"../StarWars/StarWars\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Route component={StarWars} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route } from \"react-router-dom\";\n// import './index.css';\nimport App from \"./components/App/App\";\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <Route component={App} />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}