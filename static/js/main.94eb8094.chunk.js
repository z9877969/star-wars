(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{16:function(t,e,n){t.exports={title:"Entity_title__kq8c5",item:"Entity_item__22Gzs",name:"Entity_name__myJjJ",descr:"Entity_descr__X9Efh"}},36:function(t,e,n){t.exports={list:"EntitiesList_list__2B1i8"}},39:function(t,e,n){t.exports=n(86)},44:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(34),i=n.n(r),l=n(11),o=n(13),s=(n(44),n(5)),u=n(6),m=n(8),h=n(7),p=n(9),f=n(18),b=n.n(f);b.a.defaults.baseURL="https://swapi.co/api";var y=function(t){return b.a.get(t).catch((function(t){return console.log(t)}))},v=n(35),E=n.n(v),O=n(15),j=n(20),d=n.n(j),g=function(t){var e=Object.keys(d.a.parse(t))[0].split("/");return e[e.length-3]},S=function(t,e){t.map((function(t){return y(t).then((function(t){var n=[t.data];e((function(t){return[].concat(Object(O.a)(t),n)}))}))}))},k=n(36),_=n.n(k),N=Object(o.g)((function(t){var e=t.entitiesArr,n=t.name,a=t.match;return c.a.createElement("ul",null,e&&e.sort((function(t,e){return t["".concat(n)]>e["".concat(n)]?1:t["".concat(n)]<e["".concat(n)]?-1:0})).map((function(t){return c.a.createElement("li",{className:_.a.list,key:E.a.generate()},t&&c.a.createElement(l.b,{to:{pathname:"/".concat(g(t.url),"/").concat(t["".concat(n)]),match:{url:t.url,route:a.path}}},t["".concat(n)]))})))})),A=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(m.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(c)))).state={response:[],entitiesValue:"films"},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.state.entitiesValue,b.a.get("/".concat(t)).then((function(t){return t.data.results})).catch((function(t){return t}))).then((function(t){return e.setState({response:t})}))}},{key:"render",value:function(){var t=this.state.response,e=t||null;return c.a.createElement("div",null,c.a.createElement(N,{entitiesArr:e,name:"title"}))}}]),e}(c.a.Component),w=n(12),J=n(16),x=n.n(J),I=function(t){var e=t.entity,n=g(e.url),a=n.split("").filter((function(t,e){return e!==n.length-1})).join("");return c.a.createElement("div",{className:x.a.container},"film"!==a&&c.a.createElement("h2",{className:x.a.title},a," ",e.name),c.a.createElement("ul",null,e&&Object.entries(e).filter((function(t){var e=Object(w.a)(t,2),n=e[0],a=e[1];return"name"!==n&&"films"!==n&&"url"!==n&&"unknown"!==a})).map((function(t){var e=Object(w.a)(t,2),n=e[0],a=e[1];return c.a.createElement("li",{className:x.a.item,key:n},c.a.createElement("p",{className:x.a.name},n),c.a.createElement("p",{className:x.a.descr},a))}))))},C=Object(o.g)((function(t){var e=t.entity,n=t.match,r=Object(a.useState)([]),i=Object(w.a)(r,2),l=i[0],o=i[1],s=Object(a.useState)([]),u=Object(w.a)(s,2),m=u[0],h=u[1];return Object(a.useEffect)((function(){S(e.planets,o),S(e.starships,h)}),[]),c.a.createElement("div",null,c.a.createElement("h2",null,c.a.createElement("p",null,"Star Wars:")," ",c.a.createElement("p",null,e.title)),c.a.createElement(N,{entitiesArr:l,name:"name"}),c.a.createElement(N,{entitiesArr:m,name:"name"}),c.a.createElement(I,{entity:e,match:n}))})),D=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(m.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(c)))).state={entity:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.location,a=e.match;if(n.match){var c=n.match.url;y(c).then((function(e){t.setState({entity:e.data}),localStorage.setItem(a.path,JSON.stringify(e.data))}))}else this.setState({entity:JSON.parse(localStorage.getItem(a.path))})}},{key:"render",value:function(){var t=this.state.entity,e=this.props.match;return t&&c.a.createElement(C,{entity:t,match:e})}}]),e}(c.a.Component),q=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(m.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(c)))).state={entity:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.location,a=e.match;if(n.match){var c=n.match.url;y(c).then((function(e){t.setState({entity:e.data}),localStorage.setItem(a.path,JSON.stringify(e.data))}))}else this.setState({entity:JSON.parse(localStorage.getItem(a.path))})}},{key:"render",value:function(){var t=this.state.entity,e=this.props.match;return c.a.createElement("div",null,t&&c.a.createElement(I,{entity:t,match:e}))}}]),e}(c.a.Component),M=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(m.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(c)))).state={entity:null},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.location,a=e.match;if(n.match){var c=n.match.url;y(c).then((function(e){t.setState({entity:e.data}),localStorage.setItem(a.path,JSON.stringify(e.data))}))}else this.setState({entity:JSON.parse(localStorage.getItem(a.path))})}},{key:"render",value:function(){var t=this.state.entity,e=this.props.match;return c.a.createElement("div",null,t&&c.a.createElement(I,{entity:t,match:e}))}}]),e}(c.a.Component),B=Object(o.g)((function(t){var e=t.location,n=Object(a.useState)([]),r=Object(w.a)(n,2),i=r[0],l=r[1],o=function(t){return d.a.parse(t.search)}(e),s=Object.keys(o).length>1&&o.categories.split("").includes(",")?o.categories.split(","):[o.categories],u=o.q;return Object(a.useEffect)((function(){l([]),Object(O.a)(s).map((function(t){return function(t,e){var n="/".concat(t,"/?search=").concat(e);return b.a.get(n).then((function(t){return t.data.results})).catch((function(t){return console.log(t)}))}(t,u).then((function(t){var e=t;l((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e))})),console.log("res",t)}))}))}),[u]),c.a.createElement("div",null,c.a.createElement("h3",null,c.a.createElement("p",null,"Searched next:")),c.a.createElement(N,{entitiesArr:i,name:"name"}))})),L=["films"],R=Object(o.g)(function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(m.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(c)))).state={inputQuery:"",queryResponseArr:[]},n.handlerSubmit=function(t){t.preventDefault();var e=n.props.history,a=t.target.children[0].value;if(a)return e.push({pathname:"/search",search:"categories=".concat(L,"&&q=").concat(a)})},n}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handlerSubmit},c.a.createElement("input",{type:"input",placeholder:"Input film..."}),c.a.createElement("button",{type:"submit"},"Search")))}}]),e}(c.a.Component)),V=function(){return c.a.createElement("div",null,c.a.createElement(R,null),c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/search",exact:!0,component:B}),c.a.createElement(o.b,{path:"/films",exact:!0,component:A}),c.a.createElement(o.b,{path:"/films/:id",exact:!0,component:D}),c.a.createElement(o.b,{path:"/planets/:id",exact:!0,component:q}),c.a.createElement(o.b,{path:"/starships/:id",exact:!0,component:M}),c.a.createElement(o.a,{to:"/films"})))},z=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.b,{component:V}))};i.a.render(c.a.createElement(l.a,{basename:"/"},c.a.createElement(o.b,{component:z})),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.94eb8094.chunk.js.map